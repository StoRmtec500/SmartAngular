<div class="section">
  <h4>Voucher Form - Reactive Validation</h4>
  <br>

  <form [formGroup]="personForm" (ngSubmit)="savePerson(personForm.value)" novalidate>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" placeholder="Enter name" formControlName="name">
      <em *ngIf="personForm.controls['name'].errors!= undefined && personForm.controls['name'].errors['hugoNotAllowed']">
        The Name Hugo is not allowed
      </em>
      <em *ngIf="personForm.controls['name'].errors!= undefined && personForm.controls['name'].errors['UserExists']">
        This username is already taken
      </em>
      <em *ngIf="!validateName()">
        Name is required (minimum 4 characters).
      </em>
    </div>
    <div class="form-group">
      <label for="age">Age</label>
      <input type="number" class="form-control" placeholder="Enter age" formControlName="age">
      <em *ngIf="personForm.controls['age'].valid && personForm.controls['age'].touched">
        Person must be between 18 and 99
      </em>
    </div>
    <div class="form-group">
      <label>Gender</label>
      <br/>
      <input type="radio" value="male" formControlName="gender"> Male
      <input type="radio" value="female" formControlName="gender"> Female
    </div>
    <div>
      <button type="submit" class="btn btn-primary" (click)="savePerson(personForm)">Submit</button>
    </div>
  </form>
</div>